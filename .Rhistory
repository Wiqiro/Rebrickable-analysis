coord_polar("y", start=0) +
geom_text(aes(label = as.character(n)), position = position_stack(vjust=1), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_minimal()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n)), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_minimal()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n)), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=10), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=2), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.5), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.5), position = position_stack(vjust=0.5)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.7), position = position_stack(vjust=0.5)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
, position = position_stack(vjust=0.5)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5)) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.7), position = position_stack(vjust=0.5), size = 4) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.7), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
geom_text(aes(label = name, x=1.6), position = position_stack(vjust=0.3), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
geom_text(aes(label = name, x=1.6, y=2), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
geom_text(aes(label = name, x=1.6, y12), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
geom_text(aes(label = name, x=1.6, y=1), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = as.character(n), x=1.6), position = position_stack(vjust=0.5), size = 3) +
geom_text(aes(label = name, x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_cat(name, as.character(n)), x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
library(stringr)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_cat(name, as.character(n)), x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, as.character(n)), x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.6), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.7), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.7), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
guides(fill=FALSE) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
guides(fill=FALSE) +
theme_void()
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "") +
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=most_used_colors$rgb) +
guides(fill=FALSE) +
theme_void()
#Most used colors in total
most_used_colors <- lego$inventory_parts %>%
#Most used colors in total
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="DDDDDD", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
#Most used colors in total
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
```{r}
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.75), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.9), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
most_used_colors <- lego$inventory_parts %>%
inner_join(lego$colors, by = c("color_id" = "id")) %>%
group_by(name, rgb) %>%
count %>%
arrange(desc(n))
most_used_colors <- most_used_colors %>%
ungroup %>%
slice_head(n=10) %>%
add_row(name="Other", rgb="EEEEEE", n=sum(most_used_colors$n)-sum(.$n)) %>%
arrange(name)
most_used_colors %>%
ggplot() +
aes(x = "", y = n, fill = name) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = str_c(name, '\n', as.character(n)), x=1.8), position = position_stack(vjust=0.5), size = 3) +
scale_fill_manual(values=paste("#", most_used_colors$rgb, sep = "")) +
guides(fill=FALSE) +
theme_void()
# Import libraries
library(tidyverse)
library(stringr)
?image_read
#Bowser image:
lego$minifigs %>%
dplyr::filter(fig_num == "fig-012198") %>%
.$img_url %>%
image_read() %>%
print
library(magick)
#Bowser image:
lego$minifigs %>%
dplyr::filter(fig_num == "fig-012198") %>%
.$img_url %>%
image_read() %>%
print
lego$minifigs %>%
dplyr::filter(fig_num == "fig-012198")
#Bowser image:
lego$minifigs %>%
dplyr::filter(fig_num == "fig-013166") %>%
.$img_url %>%
image_read() %>%
print
#Bowser image:
lego$parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
image_read() %>%
print
#Bowser image:
lego$parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
image_read() %>%
print
lego$parts %>%
dplyr::filter(part_num == "3004")
# Load all data
lego <- list(colors = read.csv("data/colors.csv.gz"),
elements = read.csv("data/elements.csv.gz"),
inventories = read.csv("data/inventories.csv.gz"),
inventory_minifigs = read.csv("data/inventory_minifigs.csv.gz"),
inventory_parts = read.csv("data/inventory_parts.csv.gz"),
inventory_sets = read.csv("data/inventory_sets.csv.gz"),
minifigs = read.csv("data/minifigs.csv.gz"),
part_categories = read.csv("data/part_categories.csv.gz"),
part_relationships = read.csv("data/part_relationships.csv.gz"),
parts = read.csv("data/parts.csv.gz"),
sets = read.csv("data/sets.csv.gz"),
themes = read.csv("data/themes.csv.gz"))
View(lego)
#Bowser image:
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
image_read() %>%
print
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
image_read()
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url
lego$inventory_parts %>%
dplyr::filter(part_num == "3004")
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
distinct
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url %>%
distinct()
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url
#Bowser image:
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url[1] %>%
image_read() %>%
print
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url[1]
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url[,1]
lego$inventory_parts %>%
dplyr::filter(part_num == "3004") %>%
.$img_url[1,]
lego$inventory_parts[1,]
lego$inventory_parts[1,6]
lego$inventory_parts[1,6] %>% image_read()
lego$minifigs %>%
dplyr::filter(fig_num == "fig-012198") %>%
.$img_url %>%
image_read
lego$minifigs[1,6] %>%
.$img_url %>%
image_read
lego$minifigs[1,6]
lego$minifigs[1,5] %>%
lego$minifigs[1,5]
lego$minifigs[1,5]
lego$minifigs[1,3]
lego$minifigs[1,4]
lego$minifigs[1,4] %>%
image_read
lego$minifigs %>%
select(fig_num, name, num_parts, img_url) %>%
arrange(desc(num_parts)) %>%
slice_head(n=10)
